var xe=Object.defineProperty,et=Object.defineProperties;var tt=Object.getOwnPropertyDescriptors;var Te=Object.getOwnPropertySymbols;var nt=Object.prototype.hasOwnProperty,lt=Object.prototype.propertyIsEnumerable;var Le=(l,e,n)=>e in l?xe(l,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):l[e]=n,se=(l,e)=>{for(var n in e||(e={}))nt.call(e,n)&&Le(l,n,e[n]);if(Te)for(var n of Te(e))lt.call(e,n)&&Le(l,n,e[n]);return l},he=(l,e)=>et(l,tt(e));import{S as z,i as Q,s as Y,D as rt,e as M,c as w,a as C,m as k,l as He,t as p,b as _,d as y,f as v,g as ue,h as ot,j as B,k as K,n as st,P as Je,o as Ue,p as j,q as F,r as P,u as ne,v as le,w as V,x as at,B as W,y as Z,H as ke,z as H,A as de,C as x,E as ve,F as ye,G as Ae,I as Ke,J as Ce,K as it,M as Ve,L as Ge,N as We,T as ft,O as Xe,Q as ze,R as we,U as Ie,V as Pe,W as ct,X as ut,Y as dt}from"./vendor.8361e80f.js";const $t=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}};$t();var te=(l=>(l.IDL="idl",l.HTTP="http",l))(te||{});function pt(l){let e,n,t,r,o;return n=new rt({props:{class:"delete-dot",attention:!l[0],danger:l[0]}}),{c(){e=M("div"),w(n.$$.fragment)},m(a,s){C(a,e,s),k(n,e,null),t=!0,r||(o=He(e,"click",l[1]),r=!0)},p(a,[s]){const i={};s&1&&(i.attention=!a[0]),s&1&&(i.danger=a[0]),n.$set(i)},i(a){t||(p(n.$$.fragment,a),t=!0)},o(a){_(n.$$.fragment,a),t=!1},d(a){a&&y(e),v(n),r=!1,o()}}}function _t(l,e,n){const t=ue();let r=!1;function o(){r?t("delete"):(n(0,r=!0),setTimeout(()=>{n(0,r=!1)},1e3))}return[r,o]}class Qe extends z{constructor(e){super();Q(this,e,_t,pt,Y,{})}}function je(l){let e,n;return e=new at({props:{class:"!m-4"}}),{c(){w(e.$$.fragment)},m(t,r){k(e,t,r),n=!0},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function mt(l){let e=l[0].pattern+"",n;return{c(){n=H(e)},m(t,r){C(t,n,r)},p(t,r){r&1&&e!==(e=t[0].pattern+"")&&de(n,e)},d(t){t&&y(n)}}}function gt(l){let e,n;return e=new ke({props:{class:"w-full text-left px-1 !m-0",$$slots:{default:[mt]},$$scope:{ctx:l}}}),{c(){w(e.$$.fragment)},m(t,r){k(e,t,r),n=!0},p(t,r){const o={};r&513&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function ht(l){let e,n;return e=new W({props:{selected:l[1],class:"w-full",$$slots:{default:[gt]},$$scope:{ctx:l}}}),e.$on("click",l[8]),{c(){w(e.$$.fragment)},m(t,r){k(e,t,r),n=!0},p(t,r){const o={};r&2&&(o.selected=t[1]),r&513&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function bt(l){let e,n,t,r;return t=new Qe({}),t.$on("delete",l[7]),{c(){e=M("div"),n=M("div"),w(t.$$.fragment),F(n,"class","ml-2"),F(e,"slot","popover-content")},m(o,a){C(o,e,a),P(e,n),k(t,n,null),r=!0},p:Z,i(o){r||(p(t.$$.fragment,o),r=!0)},o(o){_(t.$$.fragment,o),r=!1},d(o){o&&y(e),v(t)}}}function wt(l){let e,n,t,r,o,a,s,i,c,$,g,u=!l[2]&&je();function I(f){l[4](f)}let E={class:"mx-3"};l[0].enabled!==void 0&&(E.value=l[0].enabled),t=new ot({props:E}),B.push(()=>K(t,"value",I)),t.$on("change",l[5]);function O(f){l[6](f)}let S={class:"",min:0,max:15,step:.5,tooltips:"active",vertical:!0,ticks:{mode:"steps",step:3,subDensity:10}};return l[0].delay!==void 0&&(S.value=l[0].delay),s=new st({props:S}),B.push(()=>K(s,"value",O)),$=new Je({props:{class:"flex-1",popoverClass:"delete-btn-popover",position:Ue.RIGHT,$$slots:{"popover-content":[bt],default:[ht]},$$scope:{ctx:l}}}),{c(){u&&u.c(),e=j(),n=M("div"),w(t.$$.fragment),o=j(),a=M("div"),w(s.$$.fragment),c=j(),w($.$$.fragment),F(a,"class","self-stretch mr-8 ml-1"),F(n,"class","flex")},m(f,m){u&&u.m(f,m),C(f,e,m),C(f,n,m),k(t,n,null),P(n,o),P(n,a),k(s,a,null),P(n,c),k($,n,null),g=!0},p(f,[m]){f[2]?u&&(ne(),_(u,1,1,()=>{u=null}),le()):u?m&4&&p(u,1):(u=je(),u.c(),p(u,1),u.m(e.parentNode,e));const T={};!r&&m&1&&(r=!0,T.value=f[0].enabled,V(()=>r=!1)),t.$set(T);const J={};!i&&m&1&&(i=!0,J.value=f[0].delay,V(()=>i=!1)),s.$set(J);const U={};m&515&&(U.$$scope={dirty:m,ctx:f}),$.$set(U)},i(f){g||(p(u),p(t.$$.fragment,f),p(s.$$.fragment,f),p($.$$.fragment,f),g=!0)},o(f){_(u),_(t.$$.fragment,f),_(s.$$.fragment,f),_($.$$.fragment,f),g=!1},d(f){u&&u.d(f),f&&y(e),f&&y(n),v(t),v(s),v($)}}}function kt(l,e,n){let{item:t}=e,{selected:r}=e,{first:o=!1}=e;const a=ue();function s(u){l.$$.not_equal(t.enabled,u)&&(t.enabled=u,n(0,t))}const i=()=>a("toggle");function c(u){l.$$.not_equal(t.delay,u)&&(t.delay=u,n(0,t))}const $=()=>a("delete"),g=()=>a("click");return l.$$set=u=>{"item"in u&&n(0,t=u.item),"selected"in u&&n(1,r=u.selected),"first"in u&&n(2,o=u.first)},[t,r,o,a,s,i,c,$,g]}class vt extends z{constructor(e){super();Q(this,e,kt,wt,Y,{item:0,selected:1,first:2})}}function Me(l,e,n){const t=l.slice();return t[6]=e[n],t[8]=n,t}function Ne(l,e){let n,t,r;function o(){return e[3](e[6])}function a(){return e[4](e[6])}return t=new vt({props:{item:e[6],first:e[8]===0,selected:e[6].pattern===e[0].pattern}}),t.$on("click",o),t.$on("delete",a),t.$on("toggle",e[5]),{key:l,first:null,c(){n=x(),w(t.$$.fragment),this.first=n},m(s,i){C(s,n,i),k(t,s,i),r=!0},p(s,i){e=s;const c={};i&2&&(c.item=e[6]),i&2&&(c.first=e[8]===0),i&3&&(c.selected=e[6].pattern===e[0].pattern),t.$set(c)},i(s){r||(p(t.$$.fragment,s),r=!0)},o(s){_(t.$$.fragment,s),r=!1},d(s){s&&y(n),v(t,s)}}}function yt(l){let e=[],n=new Map,t,r,o=l[1];const a=s=>s[6].pattern;for(let s=0;s<o.length;s+=1){let i=Me(l,o,s),c=a(i);n.set(c,e[s]=Ne(c,i))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=x()},m(s,i){for(let c=0;c<e.length;c+=1)e[c].m(s,i);C(s,t,i),r=!0},p(s,[i]){i&7&&(o=s[1],ne(),e=ve(e,i,a,1,s,o,n,t.parentNode,ye,Ne,t,Me),le())},i(s){if(!r){for(let i=0;i<o.length;i+=1)p(e[i]);r=!0}},o(s){for(let i=0;i<e.length;i+=1)_(e[i]);r=!1},d(s){for(let i=0;i<e.length;i+=1)e[i].d(s);s&&y(t)}}}function Ct(l,e,n){let{list:t}=e,{selectedItem:r}=e;const o=ue(),a=c=>{r.pattern!==c.pattern&&(n(0,r=c),o("select",se({},c)))},s=c=>{o("delete",{pattern:c.pattern})},i=()=>{o("toggle")};return l.$$set=c=>{"list"in c&&n(1,t=c.list),"selectedItem"in c&&n(0,r=c.selectedItem)},[r,t,o,a,s,i]}class It extends z{constructor(e){super();Q(this,e,Ct,yt,Y,{list:1,selectedItem:0})}}const ae="/whistle.easy-mock/api";async function Dt(){const l=await fetch(`${ae}/collection`),e="Failed to get collections brief!";if(!l.ok)throw new Error(`Server Error: ${e}`);const{code:n,msg:t,data:r}=await l.json();if(n)throw console.error(t),new Error(e);return r}async function Et(l){const e=await fetch(`${ae}/collection`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),n="Failed to create collection";if(!e.ok)throw new Error(`Server Error: ${n}`);const{code:t,msg:r}=await e.json();if(t)throw console.error(r),new Error(n)}async function St(l){const e=await fetch(`${ae}/collection/${l}`,{method:"DELETE"}),n="Failed to delete collection";if(!e.ok)throw new Error(`Server Error: ${n}`);const{code:t,msg:r}=await e.json();if(t)throw console.error(r),new Error(n)}async function Tt(l){const e=await fetch(`${ae}/collection/${l}`),n="Failed to get collection!";if(!e.ok)throw new Error(`Server Error: ${n}`);const{code:t,msg:r,data:o}=await e.json();if(t)throw console.error(r),new Error(n);return o}async function be(l,e,n=!1){const t=await fetch(`${ae}/collection/${l}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=n?"Failed to delete!":"Failed to save!";if(!t.ok)throw new Error(`Server Error: ${r}`);const{code:o,msg:a}=await t.json();if(o)throw console.error(a),new Error(r)}function Oe(l,e,n){const t=l.slice();return t[35]=e[n],t}function Lt(l){let e,n;return e=new Ce({props:{class:"flex justify-center items-center w-screen h-screen",$$slots:{default:[Pt]},$$scope:{ctx:l}}}),{c(){w(e.$$.fragment)},m(t,r){k(e,t,r),n=!0},p(t,r){const o={};r[1]&128&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Pt(l){let e;return{c(){e=H("Failed to fetch rule list! Please refresh!")},m(n,t){C(n,e,t)},d(n){n&&y(e)}}}function jt(l){let e,n,t,r=[],o=new Map,a,s,i,c,$,g,u,I,E,O,S,f,m,T,J,U,q,G,D,L,re,oe,A,ee,X=l[10];const ie=d=>d[35].label;for(let d=0;d<X.length;d+=1){let b=Oe(l,X,d),N=ie(b);o.set(N,r[d]=Re(N,b))}c=new W({props:{class:"!rounded-none",selected:!1,rectangle:!0,$$slots:{default:[Nt]},$$scope:{ctx:l}}}),c.$on("click",l[15]),g=new W({props:{class:"!rounded-none",rectangle:!0,$$slots:{default:[Ot]},$$scope:{ctx:l}}}),g.$on("click",l[20]),E=new ke({props:{class:"pl-15",$$slots:{default:[Rt]},$$scope:{ctx:l}}});function $e(d){l[21](d)}let fe={list:l[9]?l[7]:l[8]};l[1]!==void 0&&(fe.selectedItem=l[1]),m=new It({props:fe}),B.push(()=>K(m,"selectedItem",$e)),m.$on("select",l[13]),m.$on("delete",l[16]),m.$on("toggle",l[15]);function pe(d){l[22](d)}let ce={mainMenuBar:!0,onBlur:l[15],mode:"code"};l[2]!==void 0&&(ce.content=l[2]),q=new it({props:ce}),B.push(()=>K(q,"content",pe)),l[23](q);function _e(d){l[28](d)}let h={noClickaway:!0,$$slots:{default:[Jt,({closeCallback:d})=>({34:d}),({closeCallback:d})=>[0,d?8:0]]},$$scope:{ctx:l}};l[6]!==void 0&&(h.open=l[6]),L=new Ve({props:h}),B.push(()=>K(L,"open",_e));let R={position:Ge.TOP_MIDDLE};return A=new We({props:R}),l[29](A),{c(){e=M("div"),n=M("div"),t=M("div");for(let d=0;d<r.length;d+=1)r[d].c();a=j(),s=M("div"),i=j(),w(c.$$.fragment),$=j(),w(g.$$.fragment),u=j(),I=M("div"),w(E.$$.fragment),O=j(),S=M("div"),f=M("div"),w(m.$$.fragment),J=j(),U=M("div"),w(q.$$.fragment),D=j(),w(L.$$.fragment),oe=j(),w(A.$$.fragment),F(s,"class","flex-1"),F(n,"class","w-fit h-screen border-r flex flex-col justify-between"),F(f,"class","pr-15 pb-3"),F(S,"class","pt-5 flex-1 overflow-y-auto overflow-x-visible"),F(I,"class","w-1/2 h-screen border-r pt-5 pl-5 flex flex-col"),F(U,"class","flex-1 h-screen min-w-lg flex flex-col"),F(e,"class","flex")},m(d,b){C(d,e,b),P(e,n),P(n,t);for(let N=0;N<r.length;N+=1)r[N].m(t,null);P(n,a),P(n,s),P(n,i),k(c,n,null),P(n,$),k(g,n,null),P(e,u),P(e,I),k(E,I,null),P(I,O),P(I,S),P(S,f),k(m,f,null),P(e,J),P(e,U),k(q,U,null),C(d,D,b),k(L,d,b),C(d,oe,b),k(A,d,b),ee=!0},p(d,b){b[0]&5121&&(X=d[10],ne(),r=ve(r,b,ie,1,d,X,o,t,ye,Re,null,Oe),le());const N={};b[1]&128&&(N.$$scope={dirty:b,ctx:d}),c.$set(N);const De={};b[1]&128&&(De.$$scope={dirty:b,ctx:d}),g.$set(De);const Ee={};b[0]&512|b[1]&128&&(Ee.$$scope={dirty:b,ctx:d}),E.$set(Ee);const me={};b[0]&896&&(me.list=d[9]?d[7]:d[8]),!T&&b[0]&2&&(T=!0,me.selectedItem=d[1],V(()=>T=!1)),m.$set(me);const Se={};!G&&b[0]&4&&(G=!0,Se.content=d[2],V(()=>G=!1)),q.$set(Se);const ge={};b[0]&545|b[1]&128&&(ge.$$scope={dirty:b,ctx:d}),!re&&b[0]&64&&(re=!0,ge.open=d[6],V(()=>re=!1)),L.$set(ge);const Ze={};A.$set(Ze)},i(d){if(!ee){for(let b=0;b<X.length;b+=1)p(r[b]);p(c.$$.fragment,d),p(g.$$.fragment,d),p(E.$$.fragment,d),p(m.$$.fragment,d),p(q.$$.fragment,d),p(L.$$.fragment,d),p(A.$$.fragment,d),ee=!0}},o(d){for(let b=0;b<r.length;b+=1)_(r[b]);_(c.$$.fragment,d),_(g.$$.fragment,d),_(E.$$.fragment,d),_(m.$$.fragment,d),_(q.$$.fragment,d),_(L.$$.fragment,d),_(A.$$.fragment,d),ee=!1},d(d){d&&y(e);for(let b=0;b<r.length;b+=1)r[b].d();v(c),v(g),v(E),v(m),l[23](null),v(q),d&&y(D),v(L,d),d&&y(oe),l[29](null),v(A,d)}}}function Mt(l){let e=l[35].label+"",n,t;return{c(){n=H(e),t=j()},m(r,o){C(r,n,o),C(r,t,o)},p:Z,d(r){r&&y(n),r&&y(t)}}}function Re(l,e){let n,t,r,o;function a(i){e[19](i)}let s={contentClass:"w-full justify-center !rounded-none",value:e[35].value,name:"mock-type",$$slots:{default:[Mt]},$$scope:{ctx:e}};return e[0]!==void 0&&(s.group=e[0]),t=new ft({props:s}),B.push(()=>K(t,"group",a)),t.$on("change",e[12]),{key:l,first:null,c(){n=x(),w(t.$$.fragment),this.first=n},m(i,c){C(i,n,c),k(t,i,c),o=!0},p(i,c){e=i;const $={};c[1]&128&&($.$$scope={dirty:c,ctx:e}),!r&&c[0]&1&&(r=!0,$.group=e[0],V(()=>r=!1)),t.$set($)},i(i){o||(p(t.$$.fragment,i),o=!0)},o(i){_(t.$$.fragment,i),o=!1},d(i){i&&y(n),v(t,i)}}}function Nt(l){let e;return{c(){e=H("Save")},m(n,t){C(n,e,t)},d(n){n&&y(e)}}}function Ot(l){let e;return{c(){e=H("New")},m(n,t){C(n,e,t)},d(n){n&&y(e)}}}function Rt(l){let e=l[9]?"Service Method":"URL Path",n;return{c(){n=H(e)},m(t,r){C(t,n,r)},p(t,r){r[0]&512&&e!==(e=t[9]?"Service Method":"URL Path")&&de(n,e)},d(t){t&&y(n)}}}function Ft(l){let e,n,t;function r(s){l[24](s)}function o(...s){return l[25](l[34],...s)}let a={autofocus:!0};return l[5]!==void 0&&(a.value=l[5]),e=new Ie({props:a}),B.push(()=>K(e,"value",r)),e.$on("keydown",o),{c(){w(e.$$.fragment)},m(s,i){k(e,s,i),t=!0},p(s,i){l=s;const c={};!n&&i[0]&32&&(n=!0,c.value=l[5],V(()=>n=!1)),e.$set(c)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){_(e.$$.fragment,s),t=!1},d(s){v(e,s)}}}function qt(l){let e;return{c(){e=H("Cancel")},m(n,t){C(n,e,t)},d(n){n&&y(e)}}}function Bt(l){let e;return{c(){e=H("Confirm")},m(n,t){C(n,e,t)},d(n){n&&y(e)}}}function Ht(l){let e,n,t,r,o,a,s;e=new we({props:{name:l[9]?"Service Method":"URL Path",required:!0,$$slots:{default:[Ft]},$$scope:{ctx:l}}});function i(){return l[26](l[34])}r=new W({props:{$$slots:{default:[qt]},$$scope:{ctx:l}}}),r.$on("click",i);function c(){return l[27](l[34])}return a=new W({props:{disabled:!l[5],$$slots:{default:[Bt]},$$scope:{ctx:l}}}),a.$on("click",c),{c(){w(e.$$.fragment),n=j(),t=M("div"),w(r.$$.fragment),o=j(),w(a.$$.fragment),F(t,"class","flex justify-around")},m($,g){k(e,$,g),C($,n,g),C($,t,g),k(r,t,null),P(t,o),k(a,t,null),s=!0},p($,g){l=$;const u={};g[0]&512&&(u.name=l[9]?"Service Method":"URL Path"),g[0]&32|g[1]&128&&(u.$$scope={dirty:g,ctx:l}),e.$set(u);const I={};g[1]&128&&(I.$$scope={dirty:g,ctx:l}),r.$set(I);const E={};g[0]&32&&(E.disabled=!l[5]),g[1]&128&&(E.$$scope={dirty:g,ctx:l}),a.$set(E)},i($){s||(p(e.$$.fragment,$),p(r.$$.fragment,$),p(a.$$.fragment,$),s=!0)},o($){_(e.$$.fragment,$),_(r.$$.fragment,$),_(a.$$.fragment,$),s=!1},d($){v(e,$),$&&y(n),$&&y(t),v(r),v(a)}}}function Jt(l){let e,n;return e=new ze({props:{title:`Add New ${l[0].toUpperCase()} Rule`,danger:!0,$$slots:{default:[Ht]},$$scope:{ctx:l}}}),{c(){w(e.$$.fragment)},m(t,r){k(e,t,r),n=!0},p(t,r){const o={};r[0]&1&&(o.title=`Add New ${t[0].toUpperCase()} Rule`),r[0]&544|r[1]&128&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Ut(l){let e,n;return e=new Xe({}),{c(){w(e.$$.fragment)},m(t,r){k(e,t,r),n=!0},p:Z,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function At(l){let e,n,t,r,o={ctx:l,current:null,token:null,hasCatch:!0,pending:Ut,then:jt,catch:Lt,blocks:[,,,]};return Ae(l[11](),o),{c(){e=x(),o.block.c()},m(a,s){C(a,e,s),o.block.m(a,o.anchor=s),o.mount=()=>e.parentNode,o.anchor=e,n=!0,t||(r=He(window,"keydown",l[18]),t=!0)},p(a,s){l=a,Ke(o,l,s)},i(a){n||(p(o.block),n=!0)},o(a){for(let s=0;s<3;s+=1){const i=o.blocks[s];_(i)}n=!1},d(a){a&&y(e),o.block.d(a),o.token=null,o=null,t=!1,r()}}}const Kt="{}";function Vt(l){var e;try{const n=(e=l.json)!=null?e:JSON.parse(l.text);for(const t of Object.keys(n))t===""&&delete n[t];return JSON.stringify(n,null,2)}catch{throw new Error("Invalid JSON format!")}}function Gt(l,e,n){let t,r,{params:o={}}=e;const a={type:te.IDL,pattern:"",data:"",delay:0,enabled:!0},s=[{label:"IDL",value:te.IDL},{label:"HTTP",value:te.HTTP}];let i,c=te.IDL,$=se({},a),g={text:""},u,I,E="",O=!1,S=[],f=[];async function m(){var h,R;i=await Tt(t),n(7,S=(h=i.rules.idl)!=null?h:[]),n(8,f=(R=i.rules.http)!=null?R:[])}function T(h,R=1500){I.showSnackbar({props:{text:h},duration:R})}function J(h){n(1,$=he(se({},a),{type:h.detail.value})),n(2,g={text:""}),setTimeout(()=>{u.expand()},0)}function U(){n(2,g={text:$.data}),setTimeout(()=>{u.expand()},0)}function q(h){if((r?S:f).some(b=>b.pattern===E)){T("Pattern already exists!");return}const d={type:c,pattern:E,data:Kt,delay:0,enabled:!0};r?n(7,S=[d,...S]):n(8,f=[d,...f]),n(5,E=""),n(1,$=d),n(2,g={text:d.data}),h(),setTimeout(()=>{u.expand(),u.focus()},100)}async function G(){if(!$.pattern){try{await be(t,{idl:S,http:f}),T("Saved successfully!")}catch(N){T(N.message)}return}const h=u.get(),R=r?[...S]:[...f],d=R.findIndex(N=>N.pattern===$.pattern),b=R.splice(d,1)[0];try{b.data=Vt(h),R.splice(d,0,b),r?n(7,S=R):n(8,f=R),n(2,g={text:b.data}),await be(t,{idl:S,http:f}),T("Saved successfully!")}catch(N){T(N.message)}}async function D(h){const{pattern:R}=h.detail,d=r?[...S]:[...f],b=d.findIndex(N=>N.pattern===R);try{d.splice(b,1),await be(t,r?{idl:d,http:f}:{idl:S,http:d},!0),r?n(7,S=d):n(8,f=d),n(1,$=he(se({},a),{type:c})),n(2,g={text:""}),T("Deleted successfully!")}catch(N){T(N.message)}}const L=h=>{h.key==="s"&&(h.metaKey||h.ctrlKey)&&(h.preventDefault(),G())};function re(h){c=h,n(0,c)}const oe=()=>{n(6,O=!0)};function A(h){$=h,n(1,$)}function ee(h){g=h,n(2,g)}function X(h){B[h?"unshift":"push"](()=>{u=h,n(3,u)})}function ie(h){E=h,n(5,E)}const $e=(h,R)=>{R.detail.nativeEvent.code==="Enter"&&q(h)},fe=h=>{n(5,E=""),h()},pe=h=>q(h);function ce(h){O=h,n(6,O)}function _e(h){B[h?"unshift":"push"](()=>{I=h,n(4,I)})}return l.$$set=h=>{"params"in h&&n(17,o=h.params)},l.$$.update=()=>{l.$$.dirty[0]&131072&&(t=o.id),l.$$.dirty[0]&1&&n(9,r=c===te.IDL)},[c,$,g,u,I,E,O,S,f,r,s,m,J,U,q,G,D,o,L,re,oe,A,ee,X,ie,$e,fe,pe,ce,_e]}class Wt extends z{constructor(e){super();Q(this,e,Gt,At,Y,{params:17},null,[-1,-1])}}function Xt(l){let e,n,t,r,o;return n=new Ce({props:{class:"text-left",$$slots:{default:[Qt]},$$scope:{ctx:l}}}),r=new ke({props:{class:"text-left text-subtitle",$$slots:{default:[Yt]},$$scope:{ctx:l}}}),{c(){e=M("div"),w(n.$$.fragment),t=j(),w(r.$$.fragment),F(e,"class","flex h-full w-full flex-col justify-between relative")},m(a,s){C(a,e,s),k(n,e,null),P(e,t),k(r,e,null),o=!0},p(a,s){const i={};s&33&&(i.$$scope={dirty:s,ctx:a}),n.$set(i);const c={};s&33&&(c.$$scope={dirty:s,ctx:a}),r.$set(c)},i(a){o||(p(n.$$.fragment,a),p(r.$$.fragment,a),o=!0)},o(a){_(n.$$.fragment,a),_(r.$$.fragment,a),o=!1},d(a){a&&y(e),v(n),v(r)}}}function zt(l){let e,n;return e=new ct({}),{c(){w(e.$$.fragment)},m(t,r){k(e,t,r),n=!0},p:Z,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Qt(l){let e=l[0].title+"",n;return{c(){n=H(e)},m(t,r){C(t,n,r)},p(t,r){r&1&&e!==(e=t[0].title+"")&&de(n,e)},d(t){t&&y(n)}}}function Yt(l){let e=l[0].id+"",n;return{c(){n=H(e)},m(t,r){C(t,n,r)},p(t,r){r&1&&e!==(e=t[0].id+"")&&de(n,e)},d(t){t&&y(n)}}}function Zt(l){let e,n,t,r;const o=[zt,Xt],a=[];function s(i,c){return i[1]?0:1}return e=s(l),n=a[e]=o[e](l),{c(){n.c(),t=x()},m(i,c){a[e].m(i,c),C(i,t,c),r=!0},p(i,c){let $=e;e=s(i),e===$?a[e].p(i,c):(ne(),_(a[$],1,1,()=>{a[$]=null}),le(),n=a[e],n?n.p(i,c):(n=a[e]=o[e](i),n.c()),p(n,1),n.m(t.parentNode,t))},i(i){r||(p(n),r=!0)},o(i){_(n),r=!1},d(i){a[e].d(i),i&&y(t)}}}function xt(l){let e,n;return e=new W({props:{class:Pe("collection-card-btn","!border-3","!p-4","w-full","h-full",l[1]&&"!border-dashed"),outline:!0,$$slots:{default:[Zt]},$$scope:{ctx:l}}}),e.$on("click",l[4]),{c(){w(e.$$.fragment)},m(t,r){k(e,t,r),n=!0},p(t,r){const o={};r&2&&(o.class=Pe("collection-card-btn","!border-3","!p-4","w-full","h-full",t[1]&&"!border-dashed")),r&35&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function Fe(l){let e,n,t;return n=new Qe({}),n.$on("delete",l[3]),{c(){e=M("div"),w(n.$$.fragment)},m(r,o){C(r,e,o),k(n,e,null),t=!0},p:Z,i(r){t||(p(n.$$.fragment,r),t=!0)},o(r){_(n.$$.fragment,r),t=!1},d(r){r&&y(e),v(n)}}}function en(l){let e,n,t=!l[1]&&l[0].id!=="default"&&Fe(l);return{c(){e=M("div"),t&&t.c(),F(e,"slot","popover-content")},m(r,o){C(r,e,o),t&&t.m(e,null),n=!0},p(r,o){!r[1]&&r[0].id!=="default"?t?(t.p(r,o),o&3&&p(t,1)):(t=Fe(r),t.c(),p(t,1),t.m(e,null)):t&&(ne(),_(t,1,1,()=>{t=null}),le())},i(r){n||(p(t),n=!0)},o(r){_(t),n=!1},d(r){r&&y(e),t&&t.d()}}}function tn(l){let e,n;return e=new Je({props:{position:Ue.TOP,$$slots:{"popover-content":[en],default:[xt]},$$scope:{ctx:l}}}),{c(){w(e.$$.fragment)},m(t,r){k(e,t,r),n=!0},p(t,[r]){const o={};r&35&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function nn(l,e,n){let{brief:t={}}=e,{empty:r=!1}=e;const o=ue(),a=()=>{o("delete")},s=()=>{o("click")};return l.$$set=i=>{"brief"in i&&n(0,t=i.brief),"empty"in i&&n(1,r=i.empty)},[t,r,o,a,s]}class Ye extends z{constructor(e){super();Q(this,e,nn,tn,Y,{brief:0,empty:1})}}function qe(l,e,n){const t=l.slice();return t[22]=e[n],t}function ln(l){let e,n;return e=new Ce({props:{class:"flex justify-center items-center w-screen h-screen",$$slots:{default:[rn]},$$scope:{ctx:l}}}),{c(){w(e.$$.fragment)},m(t,r){k(e,t,r),n=!0},p(t,r){const o={};r&33554432&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function rn(l){let e;return{c(){e=H("Failed to fetch collections info! Please refresh!")},m(n,t){C(n,e,t)},d(n){n&&y(e)}}}function on(l){let e,n=[],t=new Map,r,o,a,s,i,c,$,g,u=l[0];const I=f=>f[22].id;for(let f=0;f<u.length;f+=1){let m=qe(l,u,f),T=I(m);t.set(T,n[f]=Be(T,m))}o=new Ye({props:{empty:!0}}),o.$on("click",l[11]);function E(f){l[18](f)}let O={noClickaway:!0,$$slots:{default:[dn,({closeCallback:f})=>({21:f}),({closeCallback:f})=>f?2097152:0]},$$scope:{ctx:l}};l[1]!==void 0&&(O.open=l[1]),s=new Ve({props:O}),B.push(()=>K(s,"open",E));let S={position:Ge.TOP_MIDDLE};return $=new We({props:S}),l[19]($),{c(){e=M("div");for(let f=0;f<n.length;f+=1)n[f].c();r=j(),w(o.$$.fragment),a=j(),w(s.$$.fragment),c=j(),w($.$$.fragment),F(e,"class","w-screen container svelte-1teblkm")},m(f,m){C(f,e,m);for(let T=0;T<n.length;T+=1)n[T].m(e,null);P(e,r),k(o,e,null),C(f,a,m),k(s,f,m),C(f,c,m),k($,f,m),g=!0},p(f,m){m&257&&(u=f[0],ne(),n=ve(n,m,I,1,f,u,t,e,ye,Be,r,qe),le());const T={};m&33554444&&(T.$$scope={dirty:m,ctx:f}),!i&&m&2&&(i=!0,T.open=f[1],V(()=>i=!1)),s.$set(T);const J={};$.$set(J)},i(f){if(!g){for(let m=0;m<u.length;m+=1)p(n[m]);p(o.$$.fragment,f),p(s.$$.fragment,f),p($.$$.fragment,f),g=!0}},o(f){for(let m=0;m<n.length;m+=1)_(n[m]);_(o.$$.fragment,f),_(s.$$.fragment,f),_($.$$.fragment,f),g=!1},d(f){f&&y(e);for(let m=0;m<n.length;m+=1)n[m].d();v(o),f&&y(a),v(s,f),f&&y(c),l[19](null),v($,f)}}}function Be(l,e){let n,t,r;function o(){return e[9](e[22])}function a(){return e[10](e[22])}return t=new Ye({props:{brief:e[22]}}),t.$on("click",o),t.$on("delete",a),{key:l,first:null,c(){n=x(),w(t.$$.fragment),this.first=n},m(s,i){C(s,n,i),k(t,s,i),r=!0},p(s,i){e=s;const c={};i&1&&(c.brief=e[22]),t.$set(c)},i(s){r||(p(t.$$.fragment,s),r=!0)},o(s){_(t.$$.fragment,s),r=!1},d(s){s&&y(n),v(t,s)}}}function sn(l){let e,n,t;function r(s){l[12](s)}function o(...s){return l[13](l[21],...s)}let a={autofocus:!0};return l[2]!==void 0&&(a.value=l[2]),e=new Ie({props:a}),B.push(()=>K(e,"value",r)),e.$on("keydown",o),{c(){w(e.$$.fragment)},m(s,i){k(e,s,i),t=!0},p(s,i){l=s;const c={};!n&&i&4&&(n=!0,c.value=l[2],V(()=>n=!1)),e.$set(c)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){_(e.$$.fragment,s),t=!1},d(s){v(e,s)}}}function an(l){let e,n,t;function r(s){l[14](s)}function o(...s){return l[15](l[21],...s)}let a={};return l[3]!==void 0&&(a.value=l[3]),e=new Ie({props:a}),B.push(()=>K(e,"value",r)),e.$on("keydown",o),{c(){w(e.$$.fragment)},m(s,i){k(e,s,i),t=!0},p(s,i){l=s;const c={};!n&&i&8&&(n=!0,c.value=l[3],V(()=>n=!1)),e.$set(c)},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){_(e.$$.fragment,s),t=!1},d(s){v(e,s)}}}function fn(l){let e;return{c(){e=H("Cancel")},m(n,t){C(n,e,t)},d(n){n&&y(e)}}}function cn(l){let e;return{c(){e=H("Confirm")},m(n,t){C(n,e,t)},d(n){n&&y(e)}}}function un(l){let e,n,t,r,o,a,s,i,c;e=new we({props:{name:"Title",required:!0,$$slots:{default:[sn]},$$scope:{ctx:l}}}),t=new we({props:{name:"ID",required:!0,$$slots:{default:[an]},$$scope:{ctx:l}}});function $(){return l[16](l[21])}a=new W({props:{$$slots:{default:[fn]},$$scope:{ctx:l}}}),a.$on("click",$);function g(){return l[17](l[21])}return i=new W({props:{disabled:!l[3]||!l[2],$$slots:{default:[cn]},$$scope:{ctx:l}}}),i.$on("click",g),{c(){w(e.$$.fragment),n=j(),w(t.$$.fragment),r=j(),o=M("div"),w(a.$$.fragment),s=j(),w(i.$$.fragment),F(o,"class","flex justify-around")},m(u,I){k(e,u,I),C(u,n,I),k(t,u,I),C(u,r,I),C(u,o,I),k(a,o,null),P(o,s),k(i,o,null),c=!0},p(u,I){l=u;const E={};I&33554436&&(E.$$scope={dirty:I,ctx:l}),e.$set(E);const O={};I&33554440&&(O.$$scope={dirty:I,ctx:l}),t.$set(O);const S={};I&33554432&&(S.$$scope={dirty:I,ctx:l}),a.$set(S);const f={};I&12&&(f.disabled=!l[3]||!l[2]),I&33554432&&(f.$$scope={dirty:I,ctx:l}),i.$set(f)},i(u){c||(p(e.$$.fragment,u),p(t.$$.fragment,u),p(a.$$.fragment,u),p(i.$$.fragment,u),c=!0)},o(u){_(e.$$.fragment,u),_(t.$$.fragment,u),_(a.$$.fragment,u),_(i.$$.fragment,u),c=!1},d(u){v(e,u),u&&y(n),v(t,u),u&&y(r),u&&y(o),v(a),v(i)}}}function dn(l){let e,n;return e=new ze({props:{title:"Create New Collection",danger:!0,$$slots:{default:[un]},$$scope:{ctx:l}}}),{c(){w(e.$$.fragment)},m(t,r){k(e,t,r),n=!0},p(t,r){const o={};r&33554444&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function $n(l){let e,n;return e=new Xe({}),{c(){w(e.$$.fragment)},m(t,r){k(e,t,r),n=!0},p:Z,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function pn(l){let e,n,t,r,o={ctx:l,current:null,token:null,hasCatch:!0,pending:$n,then:on,catch:ln,blocks:[,,,]};return Ae(l[5](),o),{c(){e=M("style"),e.textContent=`body {
  overflow-y: auto;
}`,n=j(),t=x(),o.block.c()},m(a,s){P(document.head,e),C(a,n,s),C(a,t,s),o.block.m(a,o.anchor=s),o.mount=()=>t.parentNode,o.anchor=t,r=!0},p(a,[s]){l=a,Ke(o,l,s)},i(a){r||(p(o.block),r=!0)},o(a){for(let s=0;s<3;s+=1){const i=o.blocks[s];_(i)}r=!1},d(a){y(e),a&&y(n),a&&y(t),o.block.d(a),o.token=null,o=null}}}function _n(l,e,n){let t=[],r=!1,o="",a="",s;function i(D,L=1500){s.showSnackbar({props:{text:D},duration:L})}async function c(){n(0,t=await Dt())}function $(D,L){D.detail.nativeEvent.code==="Enter"&&g(L)}async function g(D){if(!o||!a)i("Please fill in required field!");else if(a.includes(" "))i("ID cannot contain space!");else if(t.some(L=>L.id===a))i("ID already exists!");else try{await Et({title:o,id:a}),await c(),D()}catch(L){i(L.message)}}async function u(D){try{await St(D),await c(),i("Deleted successfully!")}catch(L){i(L.message)}}const I=D=>ut(`/collection/${D.id}`),E=D=>u(D.id),O=()=>{n(1,r=!0)};function S(D){o=D,n(2,o)}const f=(D,L)=>{$(L,D)};function m(D){a=D,n(3,a)}const T=(D,L)=>{$(L,D)},J=D=>{n(3,a=""),n(2,o=""),D()},U=D=>g(D);function q(D){r=D,n(1,r)}function G(D){B[D?"unshift":"push"](()=>{s=D,n(4,s)})}return[t,r,o,a,s,c,$,g,u,I,E,O,S,f,m,T,J,U,q,G]}class mn extends z{constructor(e){super();Q(this,e,_n,pn,Y,{})}}function gn(l){let e,n;return e=new dt({props:{routes:l[0]}}),{c(){w(e.$$.fragment)},m(t,r){k(e,t,r),n=!0},p:Z,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){v(e,t)}}}function hn(l){return[{"/":mn,"/collection/:id":Wt}]}class bn extends z{constructor(e){super();Q(this,e,hn,gn,Y,{})}}new bn({target:document.getElementById("app")});
