var Et=Object.defineProperty,St=Object.defineProperties;var Dt=Object.getOwnPropertyDescriptors;var xe=Object.getOwnPropertySymbols;var Tt=Object.prototype.hasOwnProperty,Pt=Object.prototype.propertyIsEnumerable;var et=(l,e,n)=>e in l?Et(l,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):l[e]=n,ke=(l,e)=>{for(var n in e||(e={}))Tt.call(e,n)&&et(l,n,e[n]);if(xe)for(var n of xe(e))Pt.call(e,n)&&et(l,n,e[n]);return l},Me=(l,e)=>St(l,Dt(e));import{S as ue,i as $e,s as de,X as jt,e as P,c as g,a as O,t as Ee,b as I,m as h,l as ze,d,f as p,g as y,h as b,j as Se,k as Nt,n as U,o as ee,p as Lt,P as ve,q as ye,r as T,u as D,v as ae,w as ce,x as te,D as Mt,B as W,y as re,H as Be,z as B,A as De,C as fe,E as Fe,F as He,G as ut,I as $t,J as ie,K as Je,L as Ot,M as Rt,N as dt,O as pt,Q as _t,T as zt,R as qe,U as mt,V as Bt,W as gt,Y as Ft,Z as Ht,_ as ht,$ as Re,a0 as bt,a1 as Jt,a2 as qt,a3 as Ue,a4 as tt,a5 as Ut,a6 as Kt,a7 as Zt}from"./vendor.58ce0497.js";const At=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}};At();var pe=(l=>(l.IDL="idl",l.HTTP="http",l))(pe||{});function Gt(l){let e,n,t,r,o;return n=new jt({props:{size:"1.1x"}}),{c(){e=P("div"),g(n.$$.fragment),O(e,"class","cursor-pointer"),Ee(e,"text-disabled",!l[0]),Ee(e,"text-danger",l[0])},m(c,s){I(c,e,s),h(n,e,null),t=!0,r||(o=ze(e,"click",l[1]),r=!0)},p(c,[s]){s&1&&Ee(e,"text-disabled",!c[0]),s&1&&Ee(e,"text-danger",c[0])},i(c){t||(d(n.$$.fragment,c),t=!0)},o(c){p(n.$$.fragment,c),t=!1},d(c){c&&y(e),b(n),r=!1,o()}}}function Vt(l,e,n){const t=Se();let r=!1;function o(){r?t("delete"):(n(0,r=!0),setTimeout(()=>{n(0,r=!1)},1e3))}return[r,o]}class wt extends ue{constructor(e){super();$e(this,e,Vt,Gt,de,{})}}function nt(l){let e,n;return e=new Mt({props:{class:"!m-4"}}),{c(){g(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Wt(l){let e=l[0].pattern+"",n;return{c(){n=B(e)},m(t,r){I(t,n,r)},p(t,r){r&1&&e!==(e=t[0].pattern+"")&&De(n,e)},d(t){t&&y(n)}}}function Xt(l){let e,n;return e=new Be({props:{class:"w-full text-left px-1 !m-0",$$slots:{default:[Wt]},$$scope:{ctx:l}}}),{c(){g(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const o={};r&513&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Qt(l){let e,n;return e=new W({props:{selected:l[1],class:"w-full",$$slots:{default:[Xt]},$$scope:{ctx:l}}}),e.$on("click",l[8]),{c(){g(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const o={};r&2&&(o.selected=t[1]),r&513&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Yt(l){let e,n,t,r;return t=new wt({}),t.$on("delete",l[7]),{c(){e=P("div"),n=P("div"),g(t.$$.fragment),O(n,"class","ml-2"),O(e,"slot","popover-content")},m(o,c){I(o,e,c),D(e,n),h(t,n,null),r=!0},p:re,i(o){r||(d(t.$$.fragment,o),r=!0)},o(o){p(t.$$.fragment,o),r=!1},d(o){o&&y(e),b(t)}}}function xt(l){let e,n,t,r,o,c,s,a,f,_,w,i=!l[2]&&nt();function S(u){l[4](u)}let z={class:"mx-3"};l[0].enabled!==void 0&&(z.value=l[0].enabled),t=new Nt({props:z}),U.push(()=>ee(t,"value",S)),t.$on("change",l[5]);function N(u){l[6](u)}let M={class:"",min:0,max:15,step:.5,tooltips:"active",vertical:!0,ticks:{mode:"steps",step:5,subDensity:20/3}};return l[0].delay!==void 0&&(M.value=l[0].delay),s=new Lt({props:M}),U.push(()=>ee(s,"value",N)),_=new ve({props:{class:"flex-1",popoverClass:"delete-btn-popover",position:ye.RIGHT,$$slots:{"popover-content":[Yt],default:[Qt]},$$scope:{ctx:l}}}),{c(){i&&i.c(),e=T(),n=P("div"),g(t.$$.fragment),o=T(),c=P("div"),g(s.$$.fragment),f=T(),g(_.$$.fragment),O(c,"class","self-stretch mr-8 ml-1"),O(n,"class","flex")},m(u,k){i&&i.m(u,k),I(u,e,k),I(u,n,k),h(t,n,null),D(n,o),D(n,c),h(s,c,null),D(n,f),h(_,n,null),w=!0},p(u,[k]){u[2]?i&&(ae(),p(i,1,1,()=>{i=null}),ce()):i?k&4&&d(i,1):(i=nt(),i.c(),d(i,1),i.m(e.parentNode,e));const E={};!r&&k&1&&(r=!0,E.value=u[0].enabled,te(()=>r=!1)),t.$set(E);const Z={};!a&&k&1&&(a=!0,Z.value=u[0].delay,te(()=>a=!1)),s.$set(Z);const R={};k&515&&(R.$$scope={dirty:k,ctx:u}),_.$set(R)},i(u){w||(d(i),d(t.$$.fragment,u),d(s.$$.fragment,u),d(_.$$.fragment,u),w=!0)},o(u){p(i),p(t.$$.fragment,u),p(s.$$.fragment,u),p(_.$$.fragment,u),w=!1},d(u){i&&i.d(u),u&&y(e),u&&y(n),b(t),b(s),b(_)}}}function en(l,e,n){let{item:t}=e,{selected:r}=e,{first:o=!1}=e;const c=Se();function s(i){l.$$.not_equal(t.enabled,i)&&(t.enabled=i,n(0,t))}const a=()=>c("toggle");function f(i){l.$$.not_equal(t.delay,i)&&(t.delay=i,n(0,t))}const _=()=>c("delete"),w=()=>c("click");return l.$$set=i=>{"item"in i&&n(0,t=i.item),"selected"in i&&n(1,r=i.selected),"first"in i&&n(2,o=i.first)},[t,r,o,c,s,a,f,_,w]}class tn extends ue{constructor(e){super();$e(this,e,en,xt,de,{item:0,selected:1,first:2})}}function rt(l,e,n){const t=l.slice();return t[6]=e[n],t[8]=n,t}function lt(l,e){let n,t,r;function o(){return e[3](e[6])}function c(){return e[4](e[6])}return t=new tn({props:{item:e[6],first:e[8]===0,selected:e[6].pattern===e[0].pattern}}),t.$on("click",o),t.$on("delete",c),t.$on("toggle",e[5]),{key:l,first:null,c(){n=fe(),g(t.$$.fragment),this.first=n},m(s,a){I(s,n,a),h(t,s,a),r=!0},p(s,a){e=s;const f={};a&2&&(f.item=e[6]),a&2&&(f.first=e[8]===0),a&3&&(f.selected=e[6].pattern===e[0].pattern),t.$set(f)},i(s){r||(d(t.$$.fragment,s),r=!0)},o(s){p(t.$$.fragment,s),r=!1},d(s){s&&y(n),b(t,s)}}}function nn(l){let e=[],n=new Map,t,r,o=l[1];const c=s=>s[6].pattern;for(let s=0;s<o.length;s+=1){let a=rt(l,o,s),f=c(a);n.set(f,e[s]=lt(f,a))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=fe()},m(s,a){for(let f=0;f<e.length;f+=1)e[f].m(s,a);I(s,t,a),r=!0},p(s,[a]){a&7&&(o=s[1],ae(),e=Fe(e,a,c,1,s,o,n,t.parentNode,He,lt,t,rt),ce())},i(s){if(!r){for(let a=0;a<o.length;a+=1)d(e[a]);r=!0}},o(s){for(let a=0;a<e.length;a+=1)p(e[a]);r=!1},d(s){for(let a=0;a<e.length;a+=1)e[a].d(s);s&&y(t)}}}function rn(l,e,n){let{list:t}=e,{selectedItem:r}=e;const o=Se(),c=f=>{r.pattern!==f.pattern&&(n(0,r=f),o("select",ke({},f)))},s=f=>{o("delete",{pattern:f.pattern})},a=()=>{o("toggle")};return l.$$set=f=>{"list"in f&&n(1,t=f.list),"selectedItem"in f&&n(0,r=f.selectedItem)},[r,t,o,c,s,a]}class ln extends ue{constructor(e){super();$e(this,e,rn,nn,de,{list:1,selectedItem:0})}}const _e="/whistle.easy-mock/api";async function on(){const l=await fetch(`${_e}/collection`),e="Failed to get collections brief!";if(!l.ok)throw new Error(`Server Error: ${e}`);const{code:n,msg:t,data:r}=await l.json();if(n)throw console.error(t),new Error(e);return r}async function sn(l){const e=await fetch(`${_e}/collection`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),n="Failed to create collection";if(!e.ok)throw new Error(`Server Error: ${n}`);const{code:t,msg:r}=await e.json();if(t)throw console.error(r),new Error(n)}async function an(l){const e=await fetch(`${_e}/collection/${l}`,{method:"DELETE"}),n="Failed to delete collection";if(!e.ok)throw new Error(`Server Error: ${n}`);const{code:t,msg:r}=await e.json();if(t)throw console.error(r),new Error(n)}async function cn(l){const e=await fetch(`${_e}/collection/${l}`),n="Failed to get collection!";if(!e.ok)throw new Error(`Server Error: ${n}`);const{code:t,msg:r,data:o}=await e.json();if(t)throw console.error(r),new Error(n);return o}async function Oe(l,e,n=!1){const t=await fetch(`${_e}/collection/${l}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=n?"Failed to delete!":"Failed to save!";if(!t.ok)throw new Error(`Server Error: ${r}`);const{code:o,msg:c}=await t.json();if(o)throw console.error(c),new Error(r)}async function fn(l,e){const n=await fetch(`${_e}/collection/${l}/zap`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({enable:e})}),t="Failed to toggle zap mode!";if(!n.ok)throw new Error(`Server Error: ${t}`);const{code:r,msg:o}=await n.json();if(r)throw console.error(o),new Error(t)}function ot(l,e,n){const t=l.slice();return t[40]=e[n],t}function un(l){let e,n;return e=new Je({props:{class:"flex justify-center items-center w-screen h-screen",$$slots:{default:[$n]},$$scope:{ctx:l}}}),{c(){g(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const o={};r[1]&4096&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function $n(l){let e;return{c(){e=B("Failed to fetch rule list! Please refresh!")},m(n,t){I(n,e,t)},d(n){n&&y(e)}}}function dn(l){let e,n,t,r=[],o=new Map,c,s,a,f,_,w,i,S,z,N,M,u,k,E,Z,R,le,H,C,L,oe,A,me,Ie,G,X,Ce,J,q,ge,Q,he,Y,be,we,x,m,j=l[13];const F=$=>$[40].label;for(let $=0;$<j.length;$+=1){let v=ot(l,j,$),ne=F(v);o.set(ne,r[$]=st(ne,v))}f=new ve({props:{position:ye.RIGHT,$$slots:{"popover-content":[wn],default:[hn]},$$scope:{ctx:l}}}),w=new ve({props:{position:ye.RIGHT,$$slots:{"popover-content":[In],default:[vn]},$$scope:{ctx:l}}}),S=new ve({props:{position:ye.RIGHT,$$slots:{"popover-content":[Dn],default:[En]},$$scope:{ctx:l}}}),u=new Ot({props:{items:l[12]}}),E=new Be({props:{class:"pl-12",$$slots:{default:[Tn]},$$scope:{ctx:l}}});function V($){l[27]($)}let K={list:l[10]?l[8]:l[9]};l[2]!==void 0&&(K.selectedItem=l[2]),H=new ln({props:K}),U.push(()=>ee(H,"selectedItem",V)),H.$on("select",l[16]),H.$on("delete",l[19]),H.$on("toggle",l[18]);function vt($){l[28]($)}let Ke={mainMenuBar:!0,onBlur:l[18],mode:"code"};l[4]!==void 0&&(Ke.content=l[4]),A=new Rt({props:Ke}),U.push(()=>ee(A,"content",vt)),l[29](A),X=new W({props:{class:"!p-2",round:!0,disabled:!l[11],$$slots:{default:[Pn]},$$scope:{ctx:l}}}),X.$on("click",l[21]);const Ze=[Nn,jn],se=[];function Ae($,v){return $[11]?1:0}J=Ae(l),q=se[J]=Ze[J](l),Q=new W({props:{class:"!p-2",round:!0,disabled:!l[11]||l[2].data.length===1,$$slots:{default:[Mn]},$$scope:{ctx:l}}}),Q.$on("click",l[22]);function yt($){l[34]($)}let Ge={noClickaway:!0,$$slots:{default:[Fn,({closeCallback:$})=>({39:$}),({closeCallback:$})=>[0,$?256:0]]},$$scope:{ctx:l}};l[3]!==void 0&&(Ge.open=l[3]),Y=new dt({props:Ge}),U.push(()=>ee(Y,"open",yt));let It={position:pt.TOP_MIDDLE};return x=new _t({props:It}),l[35](x),{c(){e=P("div"),n=P("div"),t=P("div");for(let $=0;$<r.length;$+=1)r[$].c();c=T(),s=P("div"),a=T(),g(f.$$.fragment),_=T(),g(w.$$.fragment),i=T(),g(S.$$.fragment),z=T(),N=P("div"),M=P("div"),g(u.$$.fragment),k=T(),g(E.$$.fragment),Z=T(),R=P("div"),le=P("div"),g(H.$$.fragment),L=T(),oe=P("div"),g(A.$$.fragment),Ie=T(),G=P("div"),g(X.$$.fragment),Ce=T(),q.c(),ge=T(),g(Q.$$.fragment),he=T(),g(Y.$$.fragment),we=T(),g(x.$$.fragment),O(s,"class","flex-1"),O(n,"class","w-fit h-screen border-r flex flex-col justify-between"),O(le,"class","pr-15 pb-3"),O(R,"class","pt-5 flex-1 overflow-y-auto overflow-x-visible"),O(N,"class","w-1/2 h-screen border-r pt-5 pl-5 flex flex-col"),O(G,"class","flex justify-between items-center p-2"),O(oe,"class","flex-1 h-screen min-w-lg flex flex-col justify-start"),O(e,"class","flex")},m($,v){I($,e,v),D(e,n),D(n,t);for(let ne=0;ne<r.length;ne+=1)r[ne].m(t,null);D(n,c),D(n,s),D(n,a),h(f,n,null),D(n,_),h(w,n,null),D(n,i),h(S,n,null),D(e,z),D(e,N),D(N,M),h(u,M,null),D(N,k),h(E,N,null),D(N,Z),D(N,R),D(R,le),h(H,le,null),D(e,L),D(e,oe),h(A,oe,null),D(oe,Ie),D(oe,G),h(X,G,null),D(G,Ce),se[J].m(G,null),D(G,ge),h(Q,G,null),I($,he,v),h(Y,$,v),I($,we,v),h(x,$,v),m=!0},p($,v){v[0]&40962&&(j=$[13],ae(),r=Fe(r,v,F,1,$,j,o,t,He,st,null,ot),ce());const ne={};v[0]&1|v[1]&4096&&(ne.$$scope={dirty:v,ctx:$}),f.$set(ne);const Ve={};v[1]&4096&&(Ve.$$scope={dirty:v,ctx:$}),w.$set(Ve);const We={};v[0]&8|v[1]&4096&&(We.$$scope={dirty:v,ctx:$}),S.$set(We);const Xe={};v[0]&4096&&(Xe.items=$[12]),u.$set(Xe);const Qe={};v[0]&1024|v[1]&4096&&(Qe.$$scope={dirty:v,ctx:$}),E.$set(Qe);const Te={};v[0]&1792&&(Te.list=$[10]?$[8]:$[9]),!C&&v[0]&4&&(C=!0,Te.selectedItem=$[2],te(()=>C=!1)),H.$set(Te);const Ye={};!me&&v[0]&16&&(me=!0,Ye.content=$[4],te(()=>me=!1)),A.$set(Ye);const Pe={};v[0]&2048&&(Pe.disabled=!$[11]),v[1]&4096&&(Pe.$$scope={dirty:v,ctx:$}),X.$set(Pe);let je=J;J=Ae($),J===je?se[J].p($,v):(ae(),p(se[je],1,1,()=>{se[je]=null}),ce(),q=se[J],q?q.p($,v):(q=se[J]=Ze[J]($),q.c()),d(q,1),q.m(G,ge));const Ne={};v[0]&2052&&(Ne.disabled=!$[11]||$[2].data.length===1),v[1]&4096&&(Ne.$$scope={dirty:v,ctx:$}),Q.$set(Ne);const Le={};v[0]&1154|v[1]&4352&&(Le.$$scope={dirty:v,ctx:$}),!be&&v[0]&8&&(be=!0,Le.open=$[3],te(()=>be=!1)),Y.$set(Le);const Ct={};x.$set(Ct)},i($){if(!m){for(let v=0;v<j.length;v+=1)d(r[v]);d(f.$$.fragment,$),d(w.$$.fragment,$),d(S.$$.fragment,$),d(u.$$.fragment,$),d(E.$$.fragment,$),d(H.$$.fragment,$),d(A.$$.fragment,$),d(X.$$.fragment,$),d(q),d(Q.$$.fragment,$),d(Y.$$.fragment,$),d(x.$$.fragment,$),m=!0}},o($){for(let v=0;v<r.length;v+=1)p(r[v]);p(f.$$.fragment,$),p(w.$$.fragment,$),p(S.$$.fragment,$),p(u.$$.fragment,$),p(E.$$.fragment,$),p(H.$$.fragment,$),p(A.$$.fragment,$),p(X.$$.fragment,$),p(q),p(Q.$$.fragment,$),p(Y.$$.fragment,$),p(x.$$.fragment,$),m=!1},d($){$&&y(e);for(let v=0;v<r.length;v+=1)r[v].d();b(f),b(w),b(S),b(u),b(E),b(H),l[29](null),b(A),b(X),se[J].d(),b(Q),$&&y(he),b(Y,$),$&&y(we),l[35](null),b(x,$)}}}function pn(l){let e=l[40].label+"",n,t;return{c(){n=B(e),t=T()},m(r,o){I(r,n,o),I(r,t,o)},p:re,d(r){r&&y(n),r&&y(t)}}}function st(l,e){let n,t,r,o;function c(a){e[25](a)}let s={contentClass:"w-full justify-center !rounded-none",value:e[40].value,name:"mock-type",$$slots:{default:[pn]},$$scope:{ctx:e}};return e[1]!==void 0&&(s.group=e[1]),t=new zt({props:s}),U.push(()=>ee(t,"group",c)),t.$on("change",e[15]),{key:l,first:null,c(){n=fe(),g(t.$$.fragment),this.first=n},m(a,f){I(a,n,f),h(t,a,f),o=!0},p(a,f){e=a;const _={};f[1]&4096&&(_.$$scope={dirty:f,ctx:e}),!r&&f[0]&2&&(r=!0,_.group=e[1],te(()=>r=!1)),t.$set(_)},i(a){o||(d(t.$$.fragment,a),o=!0)},o(a){p(t.$$.fragment,a),o=!1},d(a){a&&y(n),b(t,a)}}}function _n(l){let e,n;return e=new Jt({props:{size:"1.5x"}}),{c(){g(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function mn(l){let e,n;return e=new qt({props:{size:"1.5x"}}),{c(){g(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function gn(l){let e,n,t,r;const o=[mn,_n],c=[];function s(a,f){return a[0].zap?0:1}return e=s(l),n=c[e]=o[e](l),{c(){n.c(),t=fe()},m(a,f){c[e].m(a,f),I(a,t,f),r=!0},p(a,f){let _=e;e=s(a),e!==_&&(ae(),p(c[_],1,1,()=>{c[_]=null}),ce(),n=c[e],n||(n=c[e]=o[e](a),n.c()),d(n,1),n.m(t.parentNode,t))},i(a){r||(d(n),r=!0)},o(a){p(n),r=!1},d(a){c[e].d(a),a&&y(t)}}}function hn(l){let e,n;return e=new W({props:{class:"!rounded-none flex justify-center w-full",rectangle:!0,$$slots:{default:[gn]},$$scope:{ctx:l}}}),e.$on("click",l[20]),{c(){g(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const o={};r[0]&1|r[1]&4096&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function bn(l){let e;return{c(){e=B("(Experimental!) Turn on Zap mode will cache all JSON response from GET/POST requests.")},m(n,t){I(n,e,t)},d(n){n&&y(e)}}}function wn(l){let e,n,t;return n=new qe({props:{$$slots:{default:[bn]},$$scope:{ctx:l}}}),{c(){e=P("div"),g(n.$$.fragment),O(e,"slot","popover-content")},m(r,o){I(r,e,o),h(n,e,null),t=!0},p(r,o){const c={};o[1]&4096&&(c.$$scope={dirty:o,ctx:r}),n.$set(c)},i(r){t||(d(n.$$.fragment,r),t=!0)},o(r){p(n.$$.fragment,r),t=!1},d(r){r&&y(e),b(n)}}}function kn(l){let e;return{c(){e=B("Save")},m(n,t){I(n,e,t)},d(n){n&&y(e)}}}function vn(l){let e,n;return e=new W({props:{class:"!rounded-none w-full",selected:!1,rectangle:!0,$$slots:{default:[kn]},$$scope:{ctx:l}}}),e.$on("click",l[18]),{c(){g(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const o={};r[1]&4096&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function yn(l){let e;return{c(){e=B("ctrl/cmd + s")},m(n,t){I(n,e,t)},d(n){n&&y(e)}}}function In(l){let e,n,t;return n=new qe({props:{$$slots:{default:[yn]},$$scope:{ctx:l}}}),{c(){e=P("div"),g(n.$$.fragment),O(e,"slot","popover-content")},m(r,o){I(r,e,o),h(n,e,null),t=!0},p(r,o){const c={};o[1]&4096&&(c.$$scope={dirty:o,ctx:r}),n.$set(c)},i(r){t||(d(n.$$.fragment,r),t=!0)},o(r){p(n.$$.fragment,r),t=!1},d(r){r&&y(e),b(n)}}}function Cn(l){let e;return{c(){e=B("New")},m(n,t){I(n,e,t)},d(n){n&&y(e)}}}function En(l){let e,n;return e=new W({props:{class:"!rounded-none w-full",rectangle:!0,$$slots:{default:[Cn]},$$scope:{ctx:l}}}),e.$on("click",l[26]),{c(){g(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const o={};r[1]&4096&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Sn(l){let e;return{c(){e=B("ctrl/cmd + e")},m(n,t){I(n,e,t)},d(n){n&&y(e)}}}function Dn(l){let e,n,t;return n=new qe({props:{$$slots:{default:[Sn]},$$scope:{ctx:l}}}),{c(){e=P("div"),g(n.$$.fragment),O(e,"slot","popover-content")},m(r,o){I(r,e,o),h(n,e,null),t=!0},p(r,o){const c={};o[1]&4096&&(c.$$scope={dirty:o,ctx:r}),n.$set(c)},i(r){t||(d(n.$$.fragment,r),t=!0)},o(r){p(n.$$.fragment,r),t=!1},d(r){r&&y(e),b(n)}}}function Tn(l){let e=l[10]?"Service Method":"URL Path",n;return{c(){n=B(e)},m(t,r){I(t,n,r)},p(t,r){r[0]&1024&&e!==(e=t[10]?"Service Method":"URL Path")&&De(n,e)},d(t){t&&y(n)}}}function Pn(l){let e,n;return e=new mt({props:{size:"2x"}}),{c(){g(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p:re,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function jn(l){let e,n;return e=new Ft({props:{class:"!m-0",pages:l[2].data.length,currentPage:l[2].idx+1}}),e.$on("change",l[30]),{c(){g(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const o={};r[0]&4&&(o.pages=t[2].data.length),r[0]&4&&(o.currentPage=t[2].idx+1),e.$set(o)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Nn(l){let e,n;return e=new Ht({props:{class:"!m-0",$$slots:{default:[Ln]},$$scope:{ctx:l}}}),{c(){g(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const o={};r[1]&4096&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Ln(l){let e;return{c(){e=B("select a rule to operate")},m(n,t){I(n,e,t)},d(n){n&&y(e)}}}function Mn(l){let e,n;return e=new Bt({props:{size:"2x"}}),{c(){g(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p:re,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function On(l){let e,n,t;function r(s){l[31](s)}function o(...s){return l[32](l[39],...s)}let c={id:"new-rule-input",autofocus:!0};return l[7]!==void 0&&(c.value=l[7]),e=new Ue({props:c}),U.push(()=>ee(e,"value",r)),e.$on("keydown",o),{c(){g(e.$$.fragment)},m(s,a){h(e,s,a),t=!0},p(s,a){l=s;const f={};!n&&a[0]&128&&(n=!0,f.value=l[7],te(()=>n=!1)),e.$set(f)},i(s){t||(d(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){b(e,s)}}}function Rn(l){let e;return{c(){e=B("Cancel")},m(n,t){I(n,e,t)},d(n){n&&y(e)}}}function zn(l){let e;return{c(){e=B("Confirm")},m(n,t){I(n,e,t)},d(n){n&&y(e)}}}function Bn(l){let e,n,t,r,o,c,s;e=new Re({props:{name:l[10]?"Service Method":"URL Path",required:!0,$$slots:{default:[On]},$$scope:{ctx:l}}}),r=new W({props:{$$slots:{default:[Rn]},$$scope:{ctx:l}}}),r.$on("click",function(){bt(l[39])&&l[39].apply(this,arguments)});function a(){return l[33](l[39])}return c=new W({props:{disabled:!l[7],$$slots:{default:[zn]},$$scope:{ctx:l}}}),c.$on("click",a),{c(){g(e.$$.fragment),n=T(),t=P("div"),g(r.$$.fragment),o=T(),g(c.$$.fragment),O(t,"class","flex justify-around")},m(f,_){h(e,f,_),I(f,n,_),I(f,t,_),h(r,t,null),D(t,o),h(c,t,null),s=!0},p(f,_){l=f;const w={};_[0]&1024&&(w.name=l[10]?"Service Method":"URL Path"),_[0]&128|_[1]&4096&&(w.$$scope={dirty:_,ctx:l}),e.$set(w);const i={};_[1]&4096&&(i.$$scope={dirty:_,ctx:l}),r.$set(i);const S={};_[0]&128&&(S.disabled=!l[7]),_[1]&4096&&(S.$$scope={dirty:_,ctx:l}),c.$set(S)},i(f){s||(d(e.$$.fragment,f),d(r.$$.fragment,f),d(c.$$.fragment,f),s=!0)},o(f){p(e.$$.fragment,f),p(r.$$.fragment,f),p(c.$$.fragment,f),s=!1},d(f){b(e,f),f&&y(n),f&&y(t),b(r),b(c)}}}function Fn(l){let e,n;return e=new ht({props:{title:`Add New ${l[1].toUpperCase()} Rule`,danger:!0,$$slots:{default:[Bn]},$$scope:{ctx:l}}}),{c(){g(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const o={};r[0]&2&&(o.title=`Add New ${t[1].toUpperCase()} Rule`),r[0]&1152|r[1]&4352&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Hn(l){let e,n;return e=new gt({}),{c(){g(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p:re,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Jn(l){let e,n,t,r,o={ctx:l,current:null,token:null,hasCatch:!0,pending:Hn,then:dn,catch:un,blocks:[,,,]};return ut(l[14](),o),{c(){e=fe(),o.block.c()},m(c,s){I(c,e,s),o.block.m(c,o.anchor=s),o.mount=()=>e.parentNode,o.anchor=e,n=!0,t||(r=ze(window,"keydown",l[24]),t=!0)},p(c,s){l=c,$t(o,l,s)},i(c){n||(d(o.block),n=!0)},o(c){for(let s=0;s<3;s+=1){const a=o.blocks[s];p(a)}n=!1},d(c){c&&y(e),o.block.d(c),o.token=null,o=null,t=!1,r()}}}const at="{}";function qn(l){var e;try{const n=(e=l.json)!=null?e:JSON.parse(l.text);for(const t of Object.keys(n))if(t===""&&delete n[t],t.startsWith("$$$")&&t.length>3&&typeof n[t]=="string")try{n[t.slice(1)]=JSON.parse(n[t]),delete n[t]}catch{throw new Error("Not a valid JSON string for '$$$' property!")}return JSON.stringify(n,null,2)}catch(n){throw new Error("Invalid JSON format: "+n.message)}}function Un(l,e,n){let t,r,o,c,{params:s={}}=e;const a={type:pe.IDL,pattern:"",data:[""],delay:0,enabled:!0,idx:0},f=[{label:"IDL",value:pe.IDL},{label:"HTTP",value:pe.HTTP}];let _,w=pe.IDL,i=ke({},a),S={text:""},z,N,M="",u=!1,k=[],E=[];async function Z(){var m,j;n(0,_=await cn(t)),n(8,k=(m=_.rules.idl)!=null?m:[]),n(9,E=(j=_.rules.http)!=null?j:[])}function R(m,j=1500){N.showSnackbar({props:{text:m},duration:j})}function le(m){n(2,i=Me(ke({},a),{type:m.detail.value})),n(4,S={text:""})}function H(){n(4,S={text:i.data[i.idx]})}function C(m){if((o?k:E).some(V=>V.pattern===M)){R("Pattern already exists!");return}const F={type:w,pattern:M,data:[at],delay:0,enabled:!0,idx:0};o?n(8,k=[F,...k]):n(9,E=[F,...E]),n(2,i=F),n(4,S={text:at}),m(),setTimeout(()=>{z.focus()},100)}async function L(){if(!c){try{await Oe(t,{idl:k,http:E}),R("Saved successfully!")}catch(K){R(K.message)}return}const m=z.get(),j=o?[...k]:[...E],F=j.findIndex(K=>K.pattern===i.pattern),V=j.splice(F,1)[0];try{V.data[V.idx]=qn(m),j.splice(F,0,V),o?n(8,k=j):n(9,E=j),n(4,S={text:V.data[V.idx]}),await Oe(t,{idl:k,http:E}),R("Saved successfully!")}catch(K){R(K.message)}}async function oe(m){const{pattern:j}=m.detail,F=o?[...k]:[...E],V=F.findIndex(K=>K.pattern===j);try{F.splice(V,1),await Oe(t,o?{idl:F,http:E}:{idl:k,http:F},!0),o?n(8,k=F):n(9,E=F),n(2,i=Me(ke({},a),{type:w})),n(4,S={text:""}),R("Deleted successfully!")}catch(K){R(K.message)}}async function A(){try{await fn(_.id,!_.zap),n(0,_.zap=!_.zap,_),R(_.zap?"Turn on Zap mode!":"Turn off Zap mode!")}catch(m){R(m.message)}}async function me(){const m=i.data[i.idx];i.data.push(m),n(2,i.idx=i.data.length-1,i),n(4,S={text:i.data[i.idx]}),await ie(),L()}async function Ie(){if(i.data.length===1)return;const m=i.idx;n(2,i.idx=m===i.data.length-1?m-1:m,i),i.data.splice(m,1),n(4,S={text:i.data[i.idx]}),await ie(),L()}const G=m=>{m.key==="s"&&(m.metaKey||m.ctrlKey)?(m.preventDefault(),L()):m.key==="e"&&(m.metaKey||m.ctrlKey)?(m.preventDefault(),n(3,u=!0)):m.key==="Escape"&&u&&n(3,u=!1)};function X(m){w=m,n(1,w)}const Ce=()=>{n(3,u=!0)};function J(m){i=m,n(2,i)}function q(m){S=m,n(4,S)}function ge(m){U[m?"unshift":"push"](()=>{z=m,n(5,z)})}const Q=async m=>{const{value:j}=m.detail;n(2,i.idx=j-1,i),n(4,S={text:i.data[j-1]}),await ie(),L()};function he(m){M=m,n(7,M),n(3,u)}const Y=(m,j)=>{j.detail.nativeEvent.code==="Enter"&&C(m)},be=m=>C(m);function we(m){u=m,n(3,u)}function x(m){U[m?"unshift":"push"](()=>{N=m,n(6,N)})}return l.$$set=m=>{"params"in m&&n(23,s=m.params)},l.$$.update=()=>{l.$$.dirty[0]&8388608&&(t=s.id),l.$$.dirty[0]&1&&n(12,r=[{href:"/whistle.easy-mock",text:"Collections"},{text:`${_==null?void 0:_.title} #${_==null?void 0:_.id}`}]),l.$$.dirty[0]&2&&n(10,o=w===pe.IDL),l.$$.dirty[0]&4&&n(11,c=Boolean(i.pattern)),l.$$.dirty[0]&8&&(u?ie().then(()=>{document.getElementById("new-rule-input").focus()}):ie().then(()=>{n(7,M="")}))},[_,w,i,u,S,z,N,M,k,E,o,c,r,f,Z,le,H,C,L,oe,A,me,Ie,s,G,X,Ce,J,q,ge,Q,he,Y,be,we,x]}class Kn extends ue{constructor(e){super();$e(this,e,Un,Jn,de,{params:23},null,[-1,-1])}}function Zn(l){let e,n,t,r,o;return n=new Je({props:{class:"text-left",$$slots:{default:[Gn]},$$scope:{ctx:l}}}),r=new Be({props:{class:"text-left text-subtitle",$$slots:{default:[Vn]},$$scope:{ctx:l}}}),{c(){e=P("div"),g(n.$$.fragment),t=T(),g(r.$$.fragment),O(e,"class","flex h-full w-full flex-col justify-between relative")},m(c,s){I(c,e,s),h(n,e,null),D(e,t),h(r,e,null),o=!0},p(c,s){const a={};s&33&&(a.$$scope={dirty:s,ctx:c}),n.$set(a);const f={};s&33&&(f.$$scope={dirty:s,ctx:c}),r.$set(f)},i(c){o||(d(n.$$.fragment,c),d(r.$$.fragment,c),o=!0)},o(c){p(n.$$.fragment,c),p(r.$$.fragment,c),o=!1},d(c){c&&y(e),b(n),b(r)}}}function An(l){let e,n;return e=new mt({}),{c(){g(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p:re,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function Gn(l){let e=l[0].title+"",n;return{c(){n=B(e)},m(t,r){I(t,n,r)},p(t,r){r&1&&e!==(e=t[0].title+"")&&De(n,e)},d(t){t&&y(n)}}}function Vn(l){let e=l[0].id+"",n;return{c(){n=B(e)},m(t,r){I(t,n,r)},p(t,r){r&1&&e!==(e=t[0].id+"")&&De(n,e)},d(t){t&&y(n)}}}function Wn(l){let e,n,t,r;const o=[An,Zn],c=[];function s(a,f){return a[1]?0:1}return e=s(l),n=c[e]=o[e](l),{c(){n.c(),t=fe()},m(a,f){c[e].m(a,f),I(a,t,f),r=!0},p(a,f){let _=e;e=s(a),e===_?c[e].p(a,f):(ae(),p(c[_],1,1,()=>{c[_]=null}),ce(),n=c[e],n?n.p(a,f):(n=c[e]=o[e](a),n.c()),d(n,1),n.m(t.parentNode,t))},i(a){r||(d(n),r=!0)},o(a){p(n),r=!1},d(a){c[e].d(a),a&&y(t)}}}function Xn(l){let e,n;return e=new W({props:{class:tt("collection-card-btn","!border-3","!p-4","w-full","h-full",l[1]&&"!border-dashed"),outline:!0,$$slots:{default:[Wn]},$$scope:{ctx:l}}}),e.$on("click",l[4]),{c(){g(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const o={};r&2&&(o.class=tt("collection-card-btn","!border-3","!p-4","w-full","h-full",t[1]&&"!border-dashed")),r&35&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function ct(l){let e,n,t;return n=new wt({}),n.$on("delete",l[3]),{c(){e=P("div"),g(n.$$.fragment)},m(r,o){I(r,e,o),h(n,e,null),t=!0},p:re,i(r){t||(d(n.$$.fragment,r),t=!0)},o(r){p(n.$$.fragment,r),t=!1},d(r){r&&y(e),b(n)}}}function Qn(l){let e,n,t=!l[1]&&l[0].id!=="default"&&ct(l);return{c(){e=P("div"),t&&t.c(),O(e,"slot","popover-content")},m(r,o){I(r,e,o),t&&t.m(e,null),n=!0},p(r,o){!r[1]&&r[0].id!=="default"?t?(t.p(r,o),o&3&&d(t,1)):(t=ct(r),t.c(),d(t,1),t.m(e,null)):t&&(ae(),p(t,1,1,()=>{t=null}),ce())},i(r){n||(d(t),n=!0)},o(r){p(t),n=!1},d(r){r&&y(e),t&&t.d()}}}function Yn(l){let e,n;return e=new ve({props:{position:ye.TOP,$$slots:{"popover-content":[Qn],default:[Xn]},$$scope:{ctx:l}}}),{c(){g(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,[r]){const o={};r&35&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function xn(l,e,n){let{brief:t={}}=e,{empty:r=!1}=e;const o=Se(),c=()=>{o("delete")},s=()=>{o("click")};return l.$$set=a=>{"brief"in a&&n(0,t=a.brief),"empty"in a&&n(1,r=a.empty)},[t,r,o,c,s]}class kt extends ue{constructor(e){super();$e(this,e,xn,Yn,de,{brief:0,empty:1})}}const{document:er}=Ut;function ft(l,e,n){const t=l.slice();return t[22]=e[n],t}function tr(l){let e,n;return e=new Je({props:{class:"flex justify-center items-center w-screen h-screen",$$slots:{default:[nr]},$$scope:{ctx:l}}}),{c(){g(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const o={};r&33554432&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function nr(l){let e;return{c(){e=B("Failed to fetch collections info! Please refresh!")},m(n,t){I(n,e,t)},d(n){n&&y(e)}}}function rr(l){let e,n=[],t=new Map,r,o,c,s,a,f,_,w,i=l[1];const S=u=>u[22].id;for(let u=0;u<i.length;u+=1){let k=ft(l,i,u),E=S(k);t.set(E,n[u]=it(E,k))}o=new kt({props:{empty:!0}}),o.$on("click",l[12]);function z(u){l[18](u)}let N={noClickaway:!0,$$slots:{default:[fr,({closeCallback:u})=>({21:u}),({closeCallback:u})=>u?2097152:0]},$$scope:{ctx:l}};l[0]!==void 0&&(N.open=l[0]),s=new dt({props:N}),U.push(()=>ee(s,"open",z));let M={position:pt.TOP_MIDDLE};return _=new _t({props:M}),l[19](_),{c(){e=P("div");for(let u=0;u<n.length;u+=1)n[u].c();r=T(),g(o.$$.fragment),c=T(),g(s.$$.fragment),f=T(),g(_.$$.fragment),O(e,"class","w-screen container svelte-1teblkm")},m(u,k){I(u,e,k);for(let E=0;E<n.length;E+=1)n[E].m(e,null);D(e,r),h(o,e,null),I(u,c,k),h(s,u,k),I(u,f,k),h(_,u,k),w=!0},p(u,k){k&258&&(i=u[1],ae(),n=Fe(n,k,S,1,u,i,t,e,He,it,r,ft),ce());const E={};k&35651596&&(E.$$scope={dirty:k,ctx:u}),!a&&k&1&&(a=!0,E.open=u[0],te(()=>a=!1)),s.$set(E);const Z={};_.$set(Z)},i(u){if(!w){for(let k=0;k<i.length;k+=1)d(n[k]);d(o.$$.fragment,u),d(s.$$.fragment,u),d(_.$$.fragment,u),w=!0}},o(u){for(let k=0;k<n.length;k+=1)p(n[k]);p(o.$$.fragment,u),p(s.$$.fragment,u),p(_.$$.fragment,u),w=!1},d(u){u&&y(e);for(let k=0;k<n.length;k+=1)n[k].d();b(o),u&&y(c),b(s,u),u&&y(f),l[19](null),b(_,u)}}}function it(l,e){let n,t,r;function o(){return e[10](e[22])}function c(){return e[11](e[22])}return t=new kt({props:{brief:e[22]}}),t.$on("click",o),t.$on("delete",c),{key:l,first:null,c(){n=fe(),g(t.$$.fragment),this.first=n},m(s,a){I(s,n,a),h(t,s,a),r=!0},p(s,a){e=s;const f={};a&2&&(f.brief=e[22]),t.$set(f)},i(s){r||(d(t.$$.fragment,s),r=!0)},o(s){p(t.$$.fragment,s),r=!1},d(s){s&&y(n),b(t,s)}}}function lr(l){let e,n,t;function r(s){l[13](s)}function o(...s){return l[14](l[21],...s)}let c={id:"create-collection-title-input",autofocus:!0};return l[2]!==void 0&&(c.value=l[2]),e=new Ue({props:c}),U.push(()=>ee(e,"value",r)),e.$on("keydown",o),{c(){g(e.$$.fragment)},m(s,a){h(e,s,a),t=!0},p(s,a){l=s;const f={};!n&&a&4&&(n=!0,f.value=l[2],te(()=>n=!1)),e.$set(f)},i(s){t||(d(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){b(e,s)}}}function or(l){let e,n,t;function r(s){l[15](s)}function o(...s){return l[16](l[21],...s)}let c={};return l[3]!==void 0&&(c.value=l[3]),e=new Ue({props:c}),U.push(()=>ee(e,"value",r)),e.$on("keydown",o),{c(){g(e.$$.fragment)},m(s,a){h(e,s,a),t=!0},p(s,a){l=s;const f={};!n&&a&8&&(n=!0,f.value=l[3],te(()=>n=!1)),e.$set(f)},i(s){t||(d(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){b(e,s)}}}function sr(l){let e;return{c(){e=B("Cancel")},m(n,t){I(n,e,t)},d(n){n&&y(e)}}}function ar(l){let e;return{c(){e=B("Confirm")},m(n,t){I(n,e,t)},d(n){n&&y(e)}}}function cr(l){let e,n,t,r,o,c,s,a,f;e=new Re({props:{name:"Title",required:!0,$$slots:{default:[lr]},$$scope:{ctx:l}}}),t=new Re({props:{name:"ID",required:!0,$$slots:{default:[or]},$$scope:{ctx:l}}}),c=new W({props:{$$slots:{default:[sr]},$$scope:{ctx:l}}}),c.$on("click",function(){bt(l[21])&&l[21].apply(this,arguments)});function _(){return l[17](l[21])}return a=new W({props:{disabled:!l[3]||!l[2],$$slots:{default:[ar]},$$scope:{ctx:l}}}),a.$on("click",_),{c(){g(e.$$.fragment),n=T(),g(t.$$.fragment),r=T(),o=P("div"),g(c.$$.fragment),s=T(),g(a.$$.fragment),O(o,"class","flex justify-around")},m(w,i){h(e,w,i),I(w,n,i),h(t,w,i),I(w,r,i),I(w,o,i),h(c,o,null),D(o,s),h(a,o,null),f=!0},p(w,i){l=w;const S={};i&33554436&&(S.$$scope={dirty:i,ctx:l}),e.$set(S);const z={};i&33554440&&(z.$$scope={dirty:i,ctx:l}),t.$set(z);const N={};i&33554432&&(N.$$scope={dirty:i,ctx:l}),c.$set(N);const M={};i&12&&(M.disabled=!l[3]||!l[2]),i&33554432&&(M.$$scope={dirty:i,ctx:l}),a.$set(M)},i(w){f||(d(e.$$.fragment,w),d(t.$$.fragment,w),d(c.$$.fragment,w),d(a.$$.fragment,w),f=!0)},o(w){p(e.$$.fragment,w),p(t.$$.fragment,w),p(c.$$.fragment,w),p(a.$$.fragment,w),f=!1},d(w){b(e,w),w&&y(n),b(t,w),w&&y(r),w&&y(o),b(c),b(a)}}}function fr(l){let e,n;return e=new ht({props:{title:"Create New Collection",danger:!0,$$slots:{default:[cr]},$$scope:{ctx:l}}}),{c(){g(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p(t,r){const o={};r&35651596&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function ir(l){let e,n;return e=new gt({}),{c(){g(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p:re,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function ur(l){let e,n,t,r,o,c,s={ctx:l,current:null,token:null,hasCatch:!0,pending:ir,then:rr,catch:tr,blocks:[,,,]};return ut(l[5](),s),{c(){e=P("style"),e.textContent=`body {
  overflow-y: auto;
}`,n=T(),t=fe(),s.block.c()},m(a,f){D(er.head,e),I(a,n,f),I(a,t,f),s.block.m(a,s.anchor=f),s.mount=()=>t.parentNode,s.anchor=t,r=!0,o||(c=ze(window,"keydown",l[9]),o=!0)},p(a,[f]){l=a,$t(s,l,f)},i(a){r||(d(s.block),r=!0)},o(a){for(let f=0;f<3;f+=1){const _=s.blocks[f];p(_)}r=!1},d(a){y(e),a&&y(n),a&&y(t),s.block.d(a),s.token=null,s=null,o=!1,c()}}}function $r(l,e,n){let t=[],r=!1,o="",c="",s;function a(C,L=1500){s.showSnackbar({props:{text:C},duration:L})}async function f(){n(1,t=await on())}function _(C,L){C.detail.nativeEvent.code==="Enter"&&w(L)}async function w(C){if(!o||!c)a("Please fill in required field!");else if(c.includes(" "))a("ID cannot contain space!");else if(t.some(L=>L.id===c))a("ID already exists!");else try{await sn({title:o,id:c}),await f(),C()}catch(L){a(L.message)}}async function i(C){try{await an(C),await f(),a("Deleted successfully!")}catch(L){a(L.message)}}const S=async C=>{C.key==="e"&&(C.metaKey||C.ctrlKey)?(C.preventDefault(),n(0,r=!0)):C.key==="Escape"&&r&&n(0,r=!1)},z=C=>Kt(`/collection/${C.id}`),N=C=>i(C.id),M=()=>{n(0,r=!0)};function u(C){o=C,n(2,o),n(0,r)}const k=(C,L)=>{_(L,C)};function E(C){c=C,n(3,c),n(0,r)}const Z=(C,L)=>{_(L,C)},R=C=>w(C);function le(C){r=C,n(0,r)}function H(C){U[C?"unshift":"push"](()=>{s=C,n(4,s)})}return l.$$.update=()=>{l.$$.dirty&1&&(r?ie().then(()=>{document.getElementById("create-collection-title-input").focus()}):ie().then(()=>{n(3,c=""),n(2,o="")}))},[r,t,o,c,s,f,_,w,i,S,z,N,M,u,k,E,Z,R,le,H]}class dr extends ue{constructor(e){super();$e(this,e,$r,ur,de,{})}}function pr(l){let e,n;return e=new Zt({props:{routes:l[0]}}),{c(){g(e.$$.fragment)},m(t,r){h(e,t,r),n=!0},p:re,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){b(e,t)}}}function _r(l){return[{"/":dr,"/collection/:id":Kn}]}class mr extends ue{constructor(e){super();$e(this,e,_r,pr,de,{})}}new mr({target:document.getElementById("app")});
